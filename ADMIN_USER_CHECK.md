# ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜ç”¨æˆ·æ£€æŸ¥æŒ‡å—

## ğŸ” é—®é¢˜åˆ†æ

ä½ æ³¨å†Œäº† `876508250@qq.com` ä¸º admin ç”¨æˆ·ï¼Œä½†ç›´æ¥ç™»å½•æ—¶æ˜¾ç¤ºä¸º member è§’è‰²ã€‚è¿™æ˜¯å› ä¸ºï¼š

1. **è§’è‰²ä¿¡æ¯å­˜å‚¨åœ¨ Firestore** ä¸­ï¼Œä¸æ˜¯ Firebase Auth
2. **getCurrentUser å‡½æ•°**éœ€è¦ä» Firestore åŠ è½½è§’è‰²ä¿¡æ¯
3. **å¼‚æ­¥åŠ è½½**å¯èƒ½å¯¼è‡´è§’è‰²ä¿¡æ¯å»¶è¿Ÿæ˜¾ç¤º

## ğŸ› ï¸ ä¿®å¤å†…å®¹

### 1. æ›´æ–°äº† `getCurrentUser` å‡½æ•°
- ç°åœ¨ä¼šä» Firestore åŠ è½½ç”¨æˆ·è§’è‰²
- æ”¯æŒå¼‚æ­¥åŠ è½½ç”¨æˆ·æ•°æ®
- æ·»åŠ äº†é”™è¯¯å¤„ç†å’Œå›é€€æœºåˆ¶

### 2. æ”¹è¿›äº† Logout åŠŸèƒ½
- å¼ºåˆ¶æ¸…é™¤ç”¨æˆ·çŠ¶æ€
- è§¦å‘è®¤è¯çŠ¶æ€å˜åŒ–äº‹ä»¶
- ç¡®ä¿ UI ç«‹å³æ›´æ–°

### 3. æ›´æ–°äº† NavBar ç»„ä»¶
- æ”¯æŒå¼‚æ­¥ç”¨æˆ·åŠ è½½
- æ·»åŠ äº†è°ƒè¯•æ—¥å¿—
- æ”¹è¿›äº†çŠ¶æ€åŒæ­¥

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. æµ‹è¯• Logout åŠŸèƒ½
1. ç™»å½•ä½ çš„è´¦æˆ·
2. ç‚¹å‡» Logout
3. æ£€æŸ¥å³ä¸Šè§’æ˜¯å¦ç«‹å³æ˜¾ç¤º Login/Registerï¼ˆä¸éœ€è¦æ‰‹åŠ¨åˆ·æ–°ï¼‰

### 2. æµ‹è¯• Admin è§’è‰²
1. ä½¿ç”¨ `876508250@qq.com` ç™»å½•
2. æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—ï¼šåº”è¯¥æ˜¾ç¤º `User loaded: {role: 'admin'}`
3. æ£€æŸ¥å³ä¸Šè§’ï¼šåº”è¯¥æ˜¾ç¤ºä½ çš„ç”¨æˆ·å
4. ç‚¹å‡»ç”¨æˆ·åï¼šåº”è¯¥çœ‹åˆ° "Role: admin"
5. æ£€æŸ¥å¯¼èˆªæ ï¼šåº”è¯¥çœ‹åˆ° "Admin" ä¸‹æ‹‰èœå•

### 3. éªŒè¯ Admin åŠŸèƒ½
1. è®¿é—® `/admin` é¡µé¢
2. è®¿é—® `/admin/resources` é¡µé¢
3. ç¡®è®¤å¯ä»¥æ­£å¸¸ä½¿ç”¨ç®¡ç†å‘˜åŠŸèƒ½

## ğŸ” è°ƒè¯•ä¿¡æ¯

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š
```
User loaded: {
  id: "your-uid",
  name: "your-name", 
  email: "876508250@qq.com",
  role: "admin"
}
```

## ğŸ“± é¢„æœŸç»“æœ

ä¿®å¤åï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š
- âœ… Logout åç«‹å³æ˜¾ç¤º Login/Register
- âœ… ç™»å½•åæ˜¾ç¤ºæ­£ç¡®çš„ admin è§’è‰²
- âœ… å¯ä»¥çœ‹åˆ° Admin èœå•
- âœ… å¯ä»¥è®¿é—®ç®¡ç†å‘˜é¡µé¢

## ğŸ”„ å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

å¦‚æœ admin è§’è‰²ä»ç„¶ä¸æ˜¾ç¤ºï¼š

1. **æ£€æŸ¥ Firestore æ•°æ®**ï¼š
   - è®¿é—® Firebase Console
   - æŸ¥çœ‹ `users` é›†åˆ
   - ç¡®è®¤ `876508250@qq.com` çš„æ–‡æ¡£ä¸­ `role` å­—æ®µä¸º `admin`

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**ï¼š
   - æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®
   - é€‰æ‹© "Empty Cache and Hard Reload"

3. **é‡æ–°ç™»å½•**ï¼š
   - å®Œå…¨é€€å‡ºç™»å½•
   - æ¸…é™¤æµè§ˆå™¨æ•°æ®
   - é‡æ–°ç™»å½•æµ‹è¯•

## ğŸ¯ å¿«é€ŸéªŒè¯

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š
```javascript
// æ£€æŸ¥å½“å‰ç”¨æˆ·ä¿¡æ¯
getCurrentUser().then(user => {
  console.log('Current user:', user);
  console.log('Role:', user?.role);
});
```

è¿™åº”è¯¥æ˜¾ç¤ºä½ çš„ admin è§’è‰²ï¼
